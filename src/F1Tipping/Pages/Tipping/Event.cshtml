@page
@model F1Tipping.Pages.Tipping.EventModel
@{
    ViewData["Title"] = "Tip An Event";
}

<partial name="_StatusMessage" model="Model.StatusMessage" />
<h1>@(Model.EventTitle)</h1>
@using (Html.BeginForm(FormMethod.Post))
{
    <input type="hidden" name="EventId" value="@Model.EventId" />
    @for (var i = 0; i < Model.IncomingTips.Count(); i++)
    {
        <div class="row">
            <div class="col-3">
                @Html.ValidationMessageFor(m => m.IncomingTips[i].TargetType)
                @Html.DisplayFor(m => m.IncomingTips[i].TargetType)
                @Html.HiddenFor(m => m.IncomingTips[i].TargetType)
            </div>
            <div class="col-3">
                @Html.ValidationMessageFor(m => m.IncomingTips[i].Selection)
                @Html.DropDownListFor(m => m.IncomingTips[i].Selection,
                    Model.TipSelections[i], "Select...", Model.Lockout ? new {disabled = "disabled"} : new {})
            </div>
        </div>
    }
    <input type="submit" value="Submit Tips" class="btn btn-primary" @(Model.Lockout ? "disabled=\"disabled\"" : "") />
}
